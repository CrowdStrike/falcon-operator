apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.4.1
  creationTimestamp: null
  name: falconcontainers.falcon.crowdstrike.com
spec:
  group: falcon.crowdstrike.com
  names:
    kind: FalconContainer
    listKind: FalconContainerList
    plural: falconcontainers
    singular: falconcontainer
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - description: Phase of deployment
      jsonPath: .status.phase
      name: Status
      type: string
    - description: Version of Falcon Container
      jsonPath: .status.version
      name: Version
      type: string
    - description: Last error message
      jsonPath: .status.errormsg
      name: Error
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: FalconContainer is the Schema for the falconcontainers API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: FalconContainerSpec defines the desired state of FalconContainer
            properties:
              container:
                description: FalconContainerSensorConfig defines aspects about how
                  the Falcon Container sensor and injector work.
                properties:
                  azure:
                    default: false
                    description: Enable using the Azure config file if running in
                      Azure AKS
                    type: boolean
                  azureConfig:
                    default: /etc/kubernetes/azure.json
                    description: Path to the Kubernetes Azure config file on worker
                      nodes (e.g. /etc/kubernetes/azure.json)
                    type: string
                  certExpiration:
                    default: 3650
                    description: Certificate validity duration in number of days
                    type: integer
                  containerDaemonSocket:
                    description: The path which the container runtime daemon socket
                      can be found on worker node. This will mount the socket in the
                      sensor container
                    type: string
                  disableNSInjection:
                    default: false
                    description: Disable injection for all Namespaces
                    type: boolean
                  disablePodInjection:
                    default: false
                    description: Disable injection for all Pods
                    type: boolean
                  enablePullSecrets:
                    default: false
                    description: Set to true if connecting to a registry that requires
                      authentication
                    type: boolean
                  image:
                    description: Name of the Falcon Sensor container to pull. Format
                      should be repository/namespace/name:tag
                    type: string
                  imagePullPolicy:
                    default: Always
                    description: Image Pull Policy
                    type: string
                  injectorPort:
                    default: 4433
                    description: Port Falcon Injector listens on
                    format: int32
                    type: integer
                  namespaces:
                    description: Configure the list of namespaces that should have
                      access to pull the Falcon sensor from a registry that requires
                      authentication.
                    items:
                      type: string
                    type: array
                  registryPullSecret:
                    default: ""
                    description: Custom registry pull secret (in base64) to pull authenticate
                      to an external registry.
                    type: string
                  replicas:
                    default: 1
                    description: Configure number of replicas for the injector deployment
                    format: int32
                    type: integer
                  resources:
                    description: Configure the requests and limits of the injector.
                      Please note that setting limits can have an affect on how effective
                      the sensor is depending on cluster load.
                    properties:
                      limits:
                        description: Configure the resource limits of the injector
                          pod or container sidecar sensor
                        properties:
                          cpu:
                            type: string
                          memory:
                            type: string
                        type: object
                      requests:
                        description: Configure the resources requests of the injector
                          pod
                        properties:
                          cpu:
                            default: 10m
                            type: string
                          memory:
                            default: 20Mi
                            type: string
                        required:
                        - cpu
                        - memory
                        type: object
                    required:
                    - requests
                    type: object
                  timeout:
                    default: 30
                    description: Kills pod after a specificed amount of time (in seconds).
                      Default is 30 seconds.
                    format: int32
                    type: integer
                  url:
                    default: ""
                    description: Use URL instead of a service definition for the MutatingWebhook
                      configuration
                    type: string
                required:
                - azure
                - azureConfig
                - certExpiration
                - disableNSInjection
                - disablePodInjection
                - imagePullPolicy
                - injectorPort
                - replicas
                - timeout
                type: object
              falcon:
                description: CrowdStrike Falcon Sensor configuration settings.
                properties:
                  apd:
                    description: Enable the App Proxy Port (APP). Uncommon in container-based
                      deployments.
                    type: boolean
                  aph:
                    description: App Proxy Hostname (APH). Uncommon in container-based
                      deployments.
                    type: string
                  app:
                    description: App Proxy Port (APP). Uncommon in container-based
                      deployments.
                    type: integer
                  billing:
                    description: Utilize default or metered billing.
                    type: string
                  cid:
                    description: Falcon Customer ID (CID)
                    type: string
                  provisioning_token:
                    description: Provisioning token.
                    type: string
                  resources:
                    description: Configure the requests and limits of the container
                      sidecar sensor. Please note that setting limits can have an
                      affect on how effective the sensor is depending on cluster load.
                    properties:
                      limits:
                        description: Configure the resource limits of the injector
                          pod or container sidecar sensor
                        properties:
                          cpu:
                            type: string
                          memory:
                            type: string
                        type: object
                      requests:
                        description: Configure the resources requests of the container
                          sidecar sensor
                        properties:
                          cpu:
                            type: string
                          memory:
                            type: string
                        type: object
                    type: object
                  tags:
                    description: 'List of tags for sensor grouping. Allowed characters:
                      all alphanumerics, ''/'', ''-'', and ''_''.'
                    items:
                      type: string
                    type: array
                  trace:
                    description: Set trace level. Options are [none|err|warn|info|debug].
                    type: string
                type: object
              falcon_api:
                description: FalconAPI configures connection from your local Falcon
                  operator to CrowdStrike Falcon platform.
                properties:
                  cid:
                    description: Falcon Customer ID (CID) Override (optional, default
                      is derived from the API Key pair)
                    pattern: ^[0-9a-fA-F]{32}-[0-9a-fA-F]{2}$
                    type: string
                  client_id:
                    description: Falcon OAuth2 API Client ID
                    type: string
                  client_secret:
                    description: Falcon OAuth2 API Client Secret
                    type: string
                  cloud_region:
                    default: autodiscover
                    description: CloudRegion defines CrowdStrike Falcon Cloud Region
                      to which the operator will connect to
                    enum:
                    - autodiscover
                    - us-1
                    - us-2
                    - eu-1
                    - us-gov-1
                    type: string
                required:
                - client_id
                - client_secret
                - cloud_region
                type: object
              installer_args:
                description: InstallerArgs are passed directly down to the Falcon
                  Container Installer. Users are advised to consult Falcon Container
                  documentation to learn about available command line arguments at
                  https://falcon.crowdstrike.com/documentation/146/falcon-container-sensor-for-linux
                items:
                  type: string
                type: array
              registry:
                description: Registry configures container image registry to which
                  the Falcon Container image will be pushed
                properties:
                  acr_name:
                    description: Azure Container Registry Name represents the name
                      of the ACR for the Falcon Container push. Only applicable to
                      Azure cloud.
                    type: string
                  tls:
                    description: TLS configures TLS connection for push of Falcon
                      Container image to the registry
                    properties:
                      insecure_skip_verify:
                        description: Allow pushing to docker registries over HTTPS
                          with failed TLS verification. Note that this does not affect
                          other TLS connections.
                        type: boolean
                    type: object
                  type:
                    description: Type of the registry to be used
                    enum:
                    - acr
                    - ecr
                    - gcr
                    - crowdstrike
                    - openshift
                    type: string
                required:
                - type
                type: object
              version:
                description: Falcon Container Version. The latest version will be
                  selected when version specifier is missing.
                type: string
            required:
            - container
            - falcon
            - falcon_api
            type: object
          status:
            description: FalconContainerStatus defines the observed state of FalconContainer
            properties:
              conditions:
                items:
                  description: "Condition contains details for one aspect of the current
                    state of this API Resource. --- This struct is intended for direct
                    use as an array at the field path .status.conditions.  For example,
                    type FooStatus struct{     // Represents the observations of a
                    foo's current state.     // Known .status.conditions.type are:
                    \"Available\", \"Progressing\", and \"Degraded\"     // +patchMergeKey=type
                    \    // +patchStrategy=merge     // +listType=map     // +listMapKey=type
                    \    Conditions []metav1.Condition `json:\"conditions,omitempty\"
                    patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                    \n     // other fields }"
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                        --- Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              errormsg:
                description: ErrorMessage informs user of the last notable error.
                  Users are welcomed to see the operator logs to understand the full
                  context.
                type: string
              phase:
                description: Phase or the status of the deployment
                type: string
              retry_attempt:
                description: 'RetryAttempt is number of previous failed attempts.
                  Valid values: 0-5'
                type: integer
              version:
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
